{"ast":null,"code":"import _slicedToArray from\"C:/Users/Yura/Documents/GitHub/weather_dev/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import ToDoList from\"./TODO/todolist\";import\"./TODO/todo.css\";import{Context,CurrentTheme}from\"./context\";import AddTodo from\"./TODO/AddToDo\";import Loader from\"./TODO/Loader\";import{ToogleTheme}from\"../theme/theme\";import Tools from\"../components/Tools/Tools\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function AppToDos(){// const [todosX, setTodosX] = React.useState([\n//   { id: 1, completed: false, title: \"Купить хлеб\" },\n//   { id: 2, completed: false, title: \"Купить масло\" },\n//   { id: 3, completed: true, title: \"Купить молоко\" },\n// ]);\n// стейты\nvar _React$useState=React.useState(Tools().getDataLocalStore('todos')),_React$useState2=_slicedToArray(_React$useState,2),todos=_React$useState2[0],setTodos=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];// useEffect(() => {\n//   // https://jsonplaceholder.typicode.com/posts?_limit=5\n//   fetch(\"https://jsonplaceholder.typicode.com/todos?_limit=10\")\n//     .then((response) => response.json())\n//     .then((todos) => {\n//       // console.log(todos);\n//       setTimeout(() => {\n//         setTodos(todos);\n//         setLoading(false);\n//       }, 2000);\n//     });\n// }, []);\nuseEffect(function(){Tools().setLocalStore('todos',todos);setLoading(false);setTodos(todos);},[todos]);//выполнено/ не выполнено\nfunction toggleTodo(id){setTodos(todos.map(function(todo){// @ts-ignore\nif(todo.id===id){// @ts-ignore\ntodo.completed=!todo.completed;}return todo;}));}// функц удалить дело\nfunction removeTodo(id){// @ts-ignore\nsetTodos(todos.filter(function(todo){return todo.id!==id;}));}// функц добавить дело\nfunction addTodo(title){setTodos(// @ts-ignore\ntodos.concat([{title:title,id:Date.now(),completed:false}]));console.log(todos);}var _useState=useState(\"Day\"),_useState2=_slicedToArray(_useState,2),currentTheme=_useState2[0],setCurrentTheme=_useState2[1];return/*#__PURE__*/_jsx(CurrentTheme.Provider,{value:[currentTheme,setCurrentTheme],children:/*#__PURE__*/_jsx(Context.Provider,{value:{removeTodo:removeTodo},children:/*#__PURE__*/_jsx(\"div\",{className:currentTheme===\"Day\"?\"main\":\"night-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:currentTheme===\"Day\"?\"wrapper\":\"wrapper n-wrapper\",children:[/*#__PURE__*/_jsx(ToogleTheme,{}),/*#__PURE__*/_jsx(\"h3\",{children:\"ToDo\"}),/*#__PURE__*/_jsx(AddTodo,{todos:todos,addTodo:addTodo,setLocalStore:Tools().setLocalStore}),loading&&/*#__PURE__*/_jsx(Loader,{}),todos.length?/*#__PURE__*/_jsx(ToDoList,{todos:todos,onToggle:toggleTodo}):loading?null:/*#__PURE__*/_jsx(\"p\",{className:\"ml15px\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"No ToDo !!!\"})})]})})})});}export default AppToDos;","map":{"version":3,"names":["React","useEffect","useState","ToDoList","Context","CurrentTheme","AddTodo","Loader","ToogleTheme","Tools","AppToDos","getDataLocalStore","todos","setTodos","loading","setLoading","setLocalStore","toggleTodo","id","map","todo","completed","removeTodo","filter","addTodo","title","concat","Date","now","console","log","currentTheme","setCurrentTheme","length"],"sources":["C:/Users/Yura/Documents/GitHub/weather_dev/src/components/Todo.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport ToDoList from \"./TODO/todolist\";\r\nimport \"./TODO/todo.css\";\r\n\r\nimport { Context, CurrentTheme } from \"./context\";\r\nimport AddTodo from \"./TODO/AddToDo\";\r\nimport Loader from \"./TODO/Loader\";\r\n\r\nimport { ToogleTheme } from \"../theme/theme\";\r\nimport Tools from \"../components/Tools/Tools\";\r\n\r\n\r\nfunction AppToDos() {\r\n\r\n  // const [todosX, setTodosX] = React.useState([\r\n  //   { id: 1, completed: false, title: \"Купить хлеб\" },\r\n  //   { id: 2, completed: false, title: \"Купить масло\" },\r\n  //   { id: 3, completed: true, title: \"Купить молоко\" },\r\n  // ]);\r\n\r\n  // стейты\r\n  const [todos, setTodos] = React.useState(Tools().getDataLocalStore('todos'));\r\n  const [loading, setLoading] = React.useState(true);\r\n\r\n  // useEffect(() => {\r\n  //   // https://jsonplaceholder.typicode.com/posts?_limit=5\r\n  //   fetch(\"https://jsonplaceholder.typicode.com/todos?_limit=10\")\r\n  //     .then((response) => response.json())\r\n  //     .then((todos) => {\r\n  //       // console.log(todos);\r\n  //       setTimeout(() => {\r\n  //         setTodos(todos);\r\n  //         setLoading(false);\r\n  //       }, 2000);\r\n  //     });\r\n  // }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    Tools().setLocalStore('todos', todos)\r\n    setLoading(false);\r\n    setTodos(todos);\r\n  }, [todos])\r\n\r\n  //выполнено/ не выполнено\r\n  function toggleTodo(id) {\r\n    setTodos(\r\n      todos.map((todo) => {\r\n        // @ts-ignore\r\n        if (todo.id === id) {\r\n          // @ts-ignore\r\n          todo.completed = !todo.completed;\r\n        }\r\n        return todo;\r\n      })\r\n    );\r\n  }\r\n\r\n  // функц удалить дело\r\n  function removeTodo(id) {\r\n    // @ts-ignore\r\n    setTodos(todos.filter((todo) => todo.id !== id));\r\n  }\r\n\r\n  // функц добавить дело\r\n  function addTodo(title) {\r\n    setTodos(\r\n      // @ts-ignore\r\n      todos.concat([\r\n        {\r\n          title,\r\n          id: Date.now(),\r\n          completed: false,\r\n        },\r\n      ])\r\n\r\n    );\r\n    console.log(todos);\r\n  }\r\n\r\n  const [currentTheme, setCurrentTheme] = useState(\"Day\");\r\n\r\n  return (\r\n    <CurrentTheme.Provider value={[currentTheme, setCurrentTheme]}>\r\n      <Context.Provider value={{ removeTodo: removeTodo }}>\r\n        <div className={currentTheme === \"Day\" ? \"main\" : \"night-main\"}>\r\n          <div\r\n            className={currentTheme === \"Day\" ? \"wrapper\" : \"wrapper n-wrapper\"}\r\n          >\r\n            <ToogleTheme />\r\n            <h3>ToDo</h3>\r\n            <AddTodo todos={todos} addTodo={addTodo} setLocalStore={Tools().setLocalStore} />\r\n            {loading && <Loader />}\r\n            {todos.length ? (\r\n              <ToDoList todos={todos} onToggle={toggleTodo} />\r\n            ) : loading ? null : (\r\n              <p className=\"ml15px\">\r\n                <strong>No ToDo !!!</strong>\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Context.Provider>\r\n    </CurrentTheme.Provider>\r\n  );\r\n}\r\n\r\nexport default AppToDos;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}